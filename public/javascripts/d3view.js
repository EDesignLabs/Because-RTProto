// Generated by CoffeeScript 1.3.3

define(function() {
  var D3View;
  return D3View = Backbone.View.extend({
    _ensureElement: function() {
      var $el, attrs, _ref;
      attrs = _.extend({}, _.result(this, 'attributes'));
      if (this.id) {
        attrs.id = _.result(this, 'id');
      }
      if (this.className) {
        attrs["class"] = _.result(this, 'className');
      }
      if (!this.el) {
        this.d3el = (_ref = this.options.parent) != null ? _ref.append(_.result(this, 'tagName')) : void 0;
        this.d3el.attr(attrs);
        $el = $(this.d3el.node());
        return this.setElement($el, false);
      } else {
        if (!this.d3el) {
          this.d3el = d3.select(_.result(this, 'el'));
          this.d3el.attr(attrs);
        }
        return this.setElement(_.result(this, 'el'), false);
      }
    }
  });
});
